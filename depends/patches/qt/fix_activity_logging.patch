diff --git a/qtbase/src/corelib/kernel/qcore_mac_p.h b/qtbase/src/corelib/kernel/qcore_mac_p.h
--- a/qtbase/src/corelib/kernel/qcore_mac_p.h
+++ b/qtbase/src/corelib/kernel/qcore_mac_p.h
@@ -302,15 +302,11 @@ public:

     QAppleLogActivity &&enter()
     {
-        if (activity)
-            os_activity_scope_enter(static_cast<os_activity_t>(*this), &state);
         return std::move(*this);
     }

     void leave()
     {
-        if (activity)
-            os_activity_scope_leave(&state);
     }

     operator os_activity_t()
@@ -328,9 +324,7 @@ private:
 };

 #define QT_APPLE_LOG_ACTIVITY_CREATE(condition, description, parent) []() { \
-        if (!(condition)) \
-            return QAppleLogActivity(); \
-        return QAppleLogActivity(os_activity_create(description, parent, OS_ACTIVITY_FLAG_DEFAULT)); \
+        return QAppleLogActivity(); \
     }()

 #define QT_APPLE_LOG_ACTIVITY_WITH_PARENT3(condition, description, parent) QT_APPLE_LOG_ACTIVITY_CREATE(condition, description, parent)
@@ -340,7 +334,9 @@ private:

 #define QT_OVERLOADED_MACRO(MACRO, ...) _QT_OVERLOADED_MACRO(MACRO, __VA_ARGS__)(__VA_ARGS__)
 #define QT_APPLE_LOG_ACTIVITY_WITH_PARENT(...) QT_OVERLOADED_MACRO(QT_APPLE_LOG_ACTIVITY_WITH_PARENT, __VA_ARGS__)

-QT_MAC_WEAK_IMPORT(_os_activity_current);
+#ifndef OS_ACTIVITY_CURRENT
+#define OS_ACTIVITY_CURRENT nullptr
+#endif
 #define QT_APPLE_LOG_ACTIVITY2(condition, description) QT_APPLE_LOG_ACTIVITY_CREATE(condition, description, OS_ACTIVITY_CURRENT)

 #else // !defined(QT_BOOTSTRAPPED) && !__has_feature(objc_arc)
